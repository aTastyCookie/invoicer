$(function(){var b=new Bloodhound({datumTokenizer:function(e){return Bloodhound.tokenizers.whitespace(e.num)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:itemLookupRoute+"?query=%QUERY"});b.initialize();var a={displayKey:"item_name",minLength:3,source:b.ttAdapter()};$(".item-lookup").typeahead(null,a);c();function d(){var e=$("#new-item").clone().appendTo("#item-table");e.removeAttr("id").addClass("item").show();e.find('input[name="item_name"]').addClass("item-lookup").typeahead(null,a);c();iCheck()}function c(){$(".item-lookup").on("typeahead:selected typeahead:autocompleted",function(g,f,e){var h=$(this).closest("tr");h.find('textarea[name="item_description"]').val(f.item_description);h.find('input[name="item_quantity"]').val("1");h.find('input[name="item_price"]').val(f.item_price)})}$("#btn-add-item").click(function(){d()});if(!itemCount){d()}});