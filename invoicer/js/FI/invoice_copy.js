$(function(){$("#modal-copy-invoice").modal();$("#modal-copy-invoice").on("shown.bs.modal",function(){$("#client_name").focus()});$("#copy_created_at").inputmask(datepickerFormat);var a=new Bloodhound({datumTokenizer:function(b){return Bloodhound.tokenizers.whitespace(b.num)},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:clientNameLookupRoute+"?query=%QUERY"});a.initialize();$("#copy_client_name").typeahead(null,{minLength:3,source:a.ttAdapter()});$("#btn-copy-invoice-submit").click(function(){$.post(copyInvoiceRoute,{invoice_id:invoiceId,client_name:$("#copy_client_name").val(),created_at:$("#copy_created_at").val(),invoice_group_id:$("#copy_invoice_group_id").val(),user_id:userId}).done(function(b){window.location=copyInvoiceReturnUrl+"/"+b.id+"/edit"}).fail(function(b){if(b.status==400){showErrors($.parseJSON(b.responseText).errors,"#modal-status-placeholder")}else{alert(unknownError)}})})});